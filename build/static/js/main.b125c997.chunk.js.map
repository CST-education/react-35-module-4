{"version":3,"sources":["components/Modal/Modal.module.scss","hooks/useLS.js","components/Widgets/WindowElem.js","components/Widgets/RemoveItem.js","components/Products/ProductList.js","components/Modal/Modal.js","components/Forms/Form.js","views/PexelsImages/SearchForm.js","services/pexels.js","views/PexelsImages/ImagesList.js","App.js","index.js"],"names":["module","exports","useLS","key","init_value","useState","JSON","parse","localStorage","getItem","state","setState","useEffect","setItem","stringify","GadgetWindow","unitRef","isOpen","toggleState","keydownHandler","handleClick","handleDelete","textObj","title","content","backBtn","deleteBtn","flipId","ref","tabIndex","undefined","role","className","onClick","onKeyDown","defaultProps","DeleteButton","props","createRef","prev","current","focus","event","onDelete","id","this","flipKey","spring","stagger","text","Component","ProductList","products","onDeleteProduct","map","product","description","Modal","children","toggleModal","window","addEventListener","handleEscape","removeEventListener","e","condition","code","console","log","createPortal","s","backDrop","currentTarget","target","document","getElementById","Form","prodIdtitle","uuid","prodIdDesc","prodIdSize","prodIdokGoogle","desc","size","okGoogle","handleCheck","name","checked","handleChange","value","handleChangeAllInputs","type","handleSubmit","preventDefault","addNewProduct","resetForm","onSubmit","htmlFor","onChange","disabled","SearchFrom","getSearchValues","searchValue","setSearchValue","perPage","setPerPage","handleSearchChange","placeholder","PexelsFetchObject","base_url","api_key","_searchQuery","_page","_perPage","endPoint","a","axios","defaults","baseURL","headers","common","Authorization","searchQuery","page","params","url","get","result","data","photos","status","Error","message","newPexelsFetchObject","ImagesList","searchResults","setSearchResults","setStatus","trim","resetPage","searchPhotos","then","catch","err","style","display","flexFlow","length","el","src","tiny","alt","photographer","App","allProducts","setAllProducts","showModal","setShowModal","obj","zuzuzu","filter","prod","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b125c997.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backDrop\":\"Modal_backDrop__Wadwt\",\"content\":\"Modal_content__P_okn\"};","import { useEffect, useState } from 'react';\r\n\r\nexport const useLS = (key, init_value) => {\r\n  const [state, setState] = useState(\r\n    () => JSON.parse(localStorage.getItem(key)) ?? init_value,\r\n  );\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(state));\r\n  }, [key, state]);\r\n  return [state, setState];\r\n};\r\n","import { Flipped } from 'react-flip-toolkit';\nimport PropTypes from 'prop-types';\nexport function GadgetWindow({\n  unitRef,\n  isOpen,\n  toggleState,\n  keydownHandler,\n  handleClick,\n  // деструктуризируем обработчик клика для кнопки Delete\n  handleDelete,\n  textObj: { title, content, backBtn, deleteBtn },\n}) {\n  return (\n    <Flipped flipId=\"wrapper\">\n      <div\n        ref={unitRef}\n        // в тернарном операторе false заменен на undefined\n        tabIndex={isOpen ? undefined : 0}\n        role=\"dialog\"\n        className={`dialog animated-in`}\n        onClick={toggleState}\n        onKeyDown={keydownHandler}\n      >\n        <p className=\"title content\">{title}</p>\n        <p className=\"content\">{content}</p>\n        <button className=\"button secondary content\" onClick={handleClick}>\n          {backBtn}\n        </button>\n        {/* === передаем в onClick полученный обработчик handleDelete === вместо старого handleClick*/}\n        <button className=\"button primary content\" onClick={handleDelete}>\n          {deleteBtn}\n        </button>\n      </div>\n    </Flipped>\n  );\n}\n\nGadgetWindow.defaultProps = {\n  textObj: {\n    title: 'Delete this item?',\n    content:\n      'This operation will permenantly delete this item and all its dependencies. This actioncannot be undone',\n    backBtn: 'Oh no, bring me back',\n    deleteBtn: 'I understand, delete it',\n  },\n};\nGadgetWindow.propTypes = {\n  ref: PropTypes.any,\n  isOpen: PropTypes.bool,\n  toggleState: PropTypes.func,\n  keydownHandler: PropTypes.func,\n  handleClick: PropTypes.func,\n  textObj: PropTypes.shape({\n    title: PropTypes.string,\n    content: PropTypes.string,\n    backBtn: PropTypes.string,\n    deleteBtn: PropTypes.string,\n  }),\n};\n","import { Component, createRef } from 'react';\nimport { Flipper, Flipped } from 'react-flip-toolkit';\nimport './RemoveItem.scss';\nimport { GadgetWindow } from './WindowElem';\n\nexport class DeleteButton extends Component {\n  state = {\n    isOpen: this.props.isOpen,\n  };\n  // получаем доступ к текущему элементу через createRef()\n  ref = createRef();\n\n  // создаем метод изменения свойства видимости в стейте\n  toggleState = () => {\n    //  если текущее значение true выходим из метода\n    if (this.state.isOpen) return;\n    // изменяем стейт от предыдущего состояния\n    this.setState(prev => ({\n      isOpen: !prev.isOpen,\n    }));\n    // фокусируемся на текущем элементе\n    this.ref.current.focus();\n  };\n\n  keydownHandler = event => {\n    if (event.key === 'Enter' || event.key === 'Escape') {\n      this.toggleState();\n    }\n  };\n\n  handleClick = () => this.setState({ isOpen: false });\n\n  // ===  Добавляем обработчик клика для кнопки Delete и вызываем полученный через пропс\n  // метод удаления продукта и передаем его же полученный id\n  handleDelete = () => {\n    this.props.onDelete(this.props.id);\n    this.setState({ isOpen: false });\n  };\n\n  render() {\n    const { isOpen } = this.state;\n    const {\n      ref,\n      keydownHandler,\n      toggleState,\n      handleClick,\n      // деструктуризируем handleDelete\n      handleDelete,\n    } = this;\n    return (\n      <Flipper flipKey={isOpen} spring=\"stiff\" stagger>\n        {isOpen ? (\n          <GadgetWindow\n            unitRef={ref}\n            isOpen={isOpen}\n            toggleState={toggleState}\n            keydownHandler={keydownHandler}\n            handleClick={handleClick}\n            // === передаем обработчик клика для кнопки Delete\n            handleDelete={handleDelete}\n            textObj={this.props.text}\n          />\n        ) : (\n          <Flipped flipId=\"wrapper\">\n            <div\n              ref={ref}\n              tabIndex={0}\n              role=\"button\"\n              className=\"button primary\"\n              onClick={toggleState}\n              onKeyDown={keydownHandler}\n            >\n              <Flipped flipId=\"action\">\n                <span className=\"action\">Delete</span>\n              </Flipped>\n            </div>\n          </Flipped>\n        )}\n      </Flipper>\n    );\n  }\n}\n","// импортируем компонент окна с подтверждением удаления DeleteButton\r\nimport { DeleteButton } from '../Widgets/RemoveItem';\r\n\r\n// создаем компонент списка продуктов\r\nexport function ProductList({ products, onDeleteProduct }) {\r\n  return (\r\n    <>\r\n      <h2>Product List</h2>\r\n      <ul>\r\n        {products.map(product => {\r\n          return (\r\n            <li key={product.id}>\r\n              <h3>{product.title}</h3>\r\n              <p>{product.description}</p>\r\n              <DeleteButton onDelete={onDeleteProduct} id={product.id} />\r\n              {/* рендерим  компонент окна с подтверждением удаления DeleteButton */}\r\n              {/* передаем через пропс метод удаления продукта и его id */}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.scss';\r\n// import { Component } from 'react';\r\n\r\nexport function Modal({ children, toggleModal }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleEscape);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEscape);\r\n    };\r\n  });\r\n  const handleEscape = e => {\r\n    let condition = e.code === 'Escape';\r\n    console.log(condition);\r\n    if (condition) {\r\n      toggleModal();\r\n    }\r\n  };\r\n  const handleClose = e => {\r\n    if (e.currentTarget === e.target) {\r\n      toggleModal();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <div className={s.backDrop} onClick={handleClose}>\r\n      <div className={s.content}>{children}</div>\r\n    </div>,\r\n    document.getElementById('modalRoot'),\r\n  );\r\n}\r\n\r\n// export class Modal extends Component {\r\n//   componentDidMount() {\r\n//     window.addEventListener('keydown', this.handleEscape);\r\n//   }\r\n\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener('keydown', this.handleEscape);\r\n//   }\r\n\r\n//   handleEscape = e => {\r\n//     let condition = e.code === 'Escape';\r\n//     console.log(condition);\r\n//     if (condition) {\r\n//       this.props.toggleModal();\r\n//     }\r\n//   };\r\n//   handleClose = e => {\r\n//     if (e.currentTarget === e.target) {\r\n//       this.props.toggleModal();\r\n//     }\r\n//   };\r\n//   render() {\r\n//     const { children } = this.props;\r\n//     return createPortal(\r\n//       <div className={s.backDrop} onClick={this.handleClose}>\r\n//         <div className={s.content}>{children}</div>\r\n//       </div>,\r\n//       document.getElementById('modalRoot'),\r\n//     );\r\n//   }\r\n// }\r\n","import { Component } from 'react';\nimport { v4 as uuid } from 'uuid';\n\nexport class Form extends Component {\n  prodIdtitle = uuid();\n  prodIdDesc = uuid();\n  prodIdSize = uuid();\n  prodIdokGoogle = uuid();\n\n  state = {\n    title: '',\n    desc: '',\n    size: '',\n\n    okGoogle: false,\n\n    product: null,\n  };\n\n  handleCheck = e => {\n    // console.log('value:', e.target.value); // нам не надо\n    const { name, checked } = e.target;\n    const { okGoogle } = this.state;\n    console.log('name:', name);\n    console.log('checked:', checked);\n    this.setState({\n      okGoogle: !okGoogle,\n    });\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleChangeAllInputs = e => {\n    const { name, type, checked, value } = e.target;\n    this.setState({ [name]: type === 'checkbox' ? checked : value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { title, desc, size } = this.state;\n    const product = {\n      id: uuid(),\n      title,\n      description: desc,\n      size,\n    };\n    this.setState({ product });\n    this.props.addNewProduct(product); // !!!метод из App!!!\n    this.resetForm();\n  };\n  resetForm = () => {\n    this.setState({ ...this.state });\n  };\n\n  render() {\n    const { title, desc, size, okGoogle } = this.state;\n    const {\n      handleChangeAllInputs,\n      handleSubmit,\n      prodIdtitle,\n      prodIdDesc,\n      prodIdSize,\n      prodIdokGoogle,\n    } = this;\n\n    return (\n      <form onSubmit={handleSubmit}>\n        <label htmlFor={prodIdtitle}>Title</label>\n        <input\n          type=\"text\"\n          id={prodIdtitle}\n          name=\"title\"\n          value={title}\n          onChange={handleChangeAllInputs}\n        />\n        <br />\n        <label htmlFor={prodIdDesc}>Description</label>\n        <input\n          type=\"text\"\n          id={prodIdDesc}\n          name=\"desc\"\n          value={desc}\n          onChange={handleChangeAllInputs}\n        />\n        <br />\n        <label htmlFor={prodIdSize}>Choose your size</label>\n        <select\n          name=\"size\"\n          value={size}\n          onChange={handleChangeAllInputs}\n          id={prodIdSize}\n        >\n          <option value=\"\" disabled>\n            ...\n          </option>\n          <option value=\"s\">s</option>\n          <option value=\"m\">m</option>\n          <option value=\"l\">l</option>\n        </select>\n        <br />\n        <label htmlFor={prodIdokGoogle}>Agree?</label>\n        <input\n          type=\"checkbox\"\n          name=\"okGoogle\"\n          id={prodIdokGoogle}\n          checked={okGoogle}\n          onChange={handleChangeAllInputs}\n        />\n        <br />\n        <button type=\"submit\" disabled={!okGoogle}>\n          add\n        </button>\n      </form>\n    );\n  }\n}\n","import { useState } from 'react';\r\n\r\nexport function SearchFrom({ getSearchValues }) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [perPage, setPerPage] = useState(5);\r\n\r\n  const handleSearchChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'searchValue':\r\n        setSearchValue(value);\r\n        break;\r\n      case 'perPage':\r\n        setPerPage(value);\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n  const handleSearchSubmit = e => {\r\n    e.preventDefault();\r\n    console.log('BEFORE FETCH', searchValue, perPage);\r\n    getSearchValues(searchValue, perPage);\r\n    setSearchValue('');\r\n    // setPerPage(2);\r\n  };\r\n  return (\r\n    <form onSubmit={handleSearchSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"searchValue\"\r\n        value={searchValue}\r\n        onChange={handleSearchChange}\r\n        placeholder=\"Value\"\r\n      />\r\n      <input\r\n        type=\"number\"\r\n        name=\"perPage\"\r\n        value={perPage}\r\n        onChange={handleSearchChange}\r\n        placeholder=\"how many results?\"\r\n      />\r\n      <button type=\"submit\">search</button>\r\n    </form>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\n// OOP\r\nexport class PexelsFetchObject {\r\n  constructor(base_url, api_key) {\r\n    this.base_url = base_url;\r\n    this.api_key = api_key;\r\n    this._searchQuery = '';\r\n    this._page = 1;\r\n    this._perPage = 5;\r\n    this.endPoint = '';\r\n  }\r\n  get searchQuery() {\r\n    return this._searchQuery;\r\n  }\r\n  set searchQuery(value) {\r\n    return (this._searchQuery = value);\r\n  }\r\n  get page() {\r\n    return this._page;\r\n  }\r\n  set page(value) {\r\n    return (this._page += value);\r\n  }\r\n  resetPage() {\r\n    return (this._page = 1);\r\n  }\r\n  get perPage() {\r\n    return this._perPage;\r\n  }\r\n  set perPage(value) {\r\n    return (this._perPage = value);\r\n  }\r\n\r\n  async searchPhotos() {\r\n    axios.defaults.baseURL = this.base_url;\r\n    axios.defaults.headers.common.Authorization = this.api_key;\r\n\r\n    this.endPoint = 'search';\r\n    console.log(\r\n      'searchQuery:',\r\n      this.searchQuery,\r\n      'page:',\r\n      this.page,\r\n      'perPage:',\r\n      this.perPage,\r\n    );\r\n    let params = `?query=${this.searchQuery}&page=${this.page}&per_page=${this.perPage}`;\r\n    let url = this.endPoint + params;\r\n\r\n    try {\r\n      const result = await axios.get(url);\r\n      const data = result.data.photos;\r\n      if (result.status === 400) throw new Error();\r\n      console.log(data);\r\n      if (result.status === 200) return data;\r\n    } catch (err) {\r\n      return err.message;\r\n    }\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { PexelsFetchObject } from '../../services/pexels';\r\nimport { useLS } from '../../hooks/useLS';\r\nconst base_url = `https://api.pexels.com/v1/`;\r\nconst api_key = `563492ad6f91700001000001390f9fee0a794c1182a72e49e0e0eae2`;\r\n// const zhenya_key = `563492ad6f917000010000018ad09ac3acee45ebbb46a78f456e8ffa`;\r\nconst newPexelsFetchObject = new PexelsFetchObject(base_url, api_key);\r\n// console.log(newPexelsFetchObject);\r\n\r\nexport function ImagesList({ searchValue, perPage }) {\r\n  const [searchResults, setSearchResults] = useLS('pexelImages', []);\r\n  const [status, setStatus] = useState('init');\r\n  // =================\r\n  useEffect(() => {\r\n    if (!searchValue.trim()) return;\r\n    setStatus('pending');\r\n    newPexelsFetchObject.resetPage();\r\n    newPexelsFetchObject.searchQuery = searchValue;\r\n    newPexelsFetchObject.perPage = perPage;\r\n    newPexelsFetchObject\r\n      .searchPhotos()\r\n      .then(searchResults => {\r\n        // console.log(searchResults);\r\n        setStatus('success');\r\n        setSearchResults(searchResults);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setStatus('error');\r\n        // setStatus(() => (err ? 'error' : 'Opps'));\r\n      });\r\n\r\n    // return () => alert(`UNMOUNT`);\r\n  }, [searchValue, perPage, setSearchResults]);\r\n  // =================\r\n  const handleClick = () => {\r\n    newPexelsFetchObject.page = 1;\r\n    newPexelsFetchObject\r\n      .searchPhotos()\r\n      .then(searchResults => {\r\n        setSearchResults(prev => [...prev, ...searchResults]);\r\n        // setSearchResults(searchResults);\r\n        console.log('setSearchResults', searchResults);\r\n        setStatus('success');\r\n      })\r\n      .catch(err => {\r\n        // console.log(err);\r\n        setStatus('error');\r\n      });\r\n  };\r\n  if (status === 'init') {\r\n    return <h1>Hello! Search something</h1>;\r\n  }\r\n  if (status === 'pending') {\r\n    return <h1>Wait please!</h1>;\r\n  }\r\n  if (status === 'success') {\r\n    console.log('success', searchResults);\r\n    return (\r\n      <>\r\n        <ul style={{ display: 'flex', flexFlow: 'row wrap' }}>\r\n          {searchResults.length > 0 &&\r\n            searchResults.map(el => (\r\n              <li key={el.id}>\r\n                <img src={el.src.tiny} alt={el.photographer} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n        <button type=\"button\" onClick={handleClick}>\r\n          load more\r\n        </button>\r\n      </>\r\n    );\r\n  }\r\n  if (status === 'error') {\r\n    return <h1>ALARMA!!!</h1>;\r\n  }\r\n}\r\n","import { useState } from 'react';\r\nimport { useLS } from './hooks/useLS';\r\nimport { ProductList } from './components/Products/ProductList';\r\nimport { Modal } from './components/Modal/Modal';\r\nimport { Form } from './components/Forms/Form';\r\nimport { SearchFrom } from './views/PexelsImages/SearchForm';\r\nimport { ImagesList } from './views/PexelsImages/ImagesList';\r\nimport './App.css';\r\nfunction App() {\r\n  //   const [counter, setCounter] = useState(0);\r\n  //   const [isOpen, setIsOpen] = useState(false);\r\n  const [allProducts, setAllProducts] = useLS('products', []);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [perPage, setPerPage] = useState(5);\r\n  const addNewProduct = obj => setAllProducts(zuzuzu => [...zuzuzu, obj]);\r\n  const deleteProduct = id =>\r\n    setAllProducts(zuzuzu => zuzuzu.filter(prod => prod.id !== id));\r\n  const toggleModal = () => setShowModal(!showModal);\r\n  const getSearchValues = (searchValue, perPage) => {\r\n    setSearchValue(searchValue);\r\n    setPerPage(perPage);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <SearchFrom getSearchValues={getSearchValues} />\r\n      <ImagesList searchValue={searchValue} perPage={perPage} />\r\n\r\n      {showModal && (\r\n        <Modal toggleModal={toggleModal}>\r\n          <Form addNewProduct={addNewProduct} />\r\n        </Modal>\r\n      )}\r\n      <h1>FE-35 Product</h1>\r\n      <button type=\"button\" onClick={toggleModal}>\r\n        Add Product\r\n      </button>\r\n      {/* === РЕНДЕР КОМПОНЕНТА СПИСКА ПРОДУКТОВ === */}\r\n      <ProductList products={allProducts} onDeleteProduct={deleteProduct} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}